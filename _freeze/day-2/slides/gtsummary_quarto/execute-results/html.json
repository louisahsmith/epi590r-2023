{
  "hash": "2f894b1cefd922995fe74c949f5110dd",
  "result": {
    "markdown": "---\ntitle: \"gtsummary in quarto\"\nformat: html\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gtsummary)\nnlsy_cols <- c(\"glasses\", \"eyesight\", \"sleep_wkdy\", \"sleep_wknd\", \n               \"id\", \"nsibs\", \"samp\", \"race_eth\", \"sex\", \"region\", \n               \"income\", \"res_1980\", \"res_2002\", \"age_bir\")\nnlsy <- read_csv(here::here(\"data\", \"raw\", \"nlsy.csv\"), \n                 na = c(\"-1\", \"-2\", \"-3\", \"-4\", \"-5\", \"-998\"),\n                 skip = 1, col_names = nlsy_cols) |> \n  mutate(region_cat = factor(region, labels = c(\"Northeast\", \"North Central\", \"South\", \"West\")),\n         sex_cat = factor(sex, labels = c(\"Male\", \"Female\")),\n         race_eth_cat = factor(race_eth, labels = c(\"Hispanic\", \"Black\", \"Non-Black, Non-Hispanic\")),\n         eyesight_cat = factor(eyesight, labels = c(\"Excellent\", \"Very good\", \"Good\", \"Fair\", \"Poor\")),\n         glasses_cat = factor(glasses, labels = c(\"No\", \"Yes\"))) \n```\n:::\n\n\n# Customization of `tbl_summary()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_summary(\n  NLSY,\n  by = sex_cat,\n  include = c(sex_cat, race_eth_cat, region_cat,\n              eyesight_cat, glasses, age_bir))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_summary(\n  nlsy,\n  by = sex_cat,\n  include = c(sex_cat, race_eth_cat, region_cat,\n              eyesight_cat, glasses, age_bir),\n  label = list(\n    race_eth_cat ~ \"Race/ethnicity\",\n    region_cat ~ \"Region\",\n    eyesight_cat ~ \"Eyesight\",\n    glasses ~ \"Wears glasses\",\n    age_bir ~ \"Age at first birth\"\n  ),\n  missing_text = \"Missing\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_summary(\n  nlsy,\n  by = sex_cat,\n  include = c(sex_cat, race_eth_cat,\n              eyesight_cat, glasses, age_bir),\n  label = list(\n    race_eth_cat ~ \"Race/ethnicity\",\n    eyesight_cat ~ \"Eyesight\",\n    glasses ~ \"Wears glasses\",\n    age_bir ~ \"Age at first birth\"\n  ),\n  missing_text = \"Missing\") |> \n  add_p(test = list(all_continuous() ~ \"t.test\", \n                    all_categorical() ~ \"chisq.test\")) |> \n  add_overall(col_label = \"**Total**\") |> \n  bold_labels() |> \n  modify_footnote(update = everything() ~ NA) |> \n  modify_header(label = \"**Variable**\", p.value = \"**P**\")\n```\n:::\n\n\n# Univariate regression\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_uvregression(\n  nlsy, \n  y = income,\n  include = c(sex_cat, race_eth_cat,\n              eyesight_cat, income, age_bir),\n  method = lm)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_uvregression(\n  nlsy, \n  y = glasses,\n  include = c(sex_cat, race_eth_cat,\n              eyesight_cat, glasses, age_bir),\n  method = glm,\n  method.args = list(family = binomial()),\n  exponentiate = TRUE)\n```\n:::\n\n\n## Multivariable regressions\n\n## Some regressions\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_model <- lm(income ~ sex_cat + age_bir + race_eth_cat, \n                   data = nlsy)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_model_int <- lm(income ~ sex_cat*age_bir + race_eth_cat, \n                   data = nlsy)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlogistic_model <- glm(glasses ~ eyesight_cat + sex_cat + income, \n                      data = nlsy, family = binomial())\n```\n:::\n\n\n## Tables\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_regression(\n  linear_model, \n  intercept = TRUE,\n  label = list(\n    sex_cat ~ \"Sex\",\n    race_eth_cat ~ \"Race/ethnicity\",\n    age_bir ~ \"Age at first birth\"\n  ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_regression(\n  logistic_model, \n  exponentiate = TRUE,\n  label = list(\n    sex_cat ~ \"Sex\",\n    eyesight_cat ~ \"Eyesight\",\n    income ~ \"Income\"\n  ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_no_int <- tbl_regression(\n  linear_model, \n  intercept = TRUE,\n  label = list(\n    sex_cat ~ \"Sex\",\n    race_eth_cat ~ \"Race/ethnicity\",\n    age_bir ~ \"Age at first birth\"\n  ))\n\ntbl_int <- tbl_regression(\n  linear_model_int, \n  intercept = TRUE,\n  label = list(\n    sex_cat ~ \"Sex\",\n    race_eth_cat ~ \"Race/ethnicity\",\n    age_bir ~ \"Age at first birth\",\n    `sex_cat:age_bir` ~ \"Sex/age interaction\"\n  ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_merge(list(tbl_no_int, tbl_int), \n          tab_spanner = c(\"**Model 1**\", \"**Model 2**\"))\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}